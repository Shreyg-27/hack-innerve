<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="car.css"> -->
    <link rel="stylesheet" href="gc.css">
    <title>Garbage collector interface</title>
    
    <script src="car.js"></script>
</head>

<body>
    
    <h1 class="intro">Track order history<small>Record of past user's past garbage pickups</small></h1>
<div class="box">
  <div class="cards">
    <div class="card card--1">
      <h2 class="card__title"></h2>
      <dl class="schedules">
        <dt class="schedules__time">06:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet amet amet amet.</span></p>
        </dd>
        <dt class="schedules__time">08:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=台北火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 台北火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">12:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">15:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=高雄火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 高雄火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">18:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=墾丁&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 墾丁"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
      </dl>
    </div>
    <div class="card card--2">
      <h2 class="card__title"></h2>
      <dl class="schedules">
        <dt class="schedules__time">06:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet amet amet amet.</span></p>
        </dd>
        <dt class="schedules__time">08:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=台北火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 台北火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">12:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">15:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=高雄火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 高雄火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">18:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=墾丁&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 墾丁"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
      </dl>
    </div>
    <div class="card card--3">
      <h2 class="card__title"></h2>
      <dl class="schedules">
        <dt class="schedules__time">06:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet amet amet amet.</span></p>
        </dd>
        <dt class="schedules__time">08:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=台北火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 台北火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">12:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">15:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=高雄火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 高雄火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">18:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=墾丁&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 墾丁"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
      </dl>
    </div>
    <div class="card card--4">
      <h2 class="card__title"></h2>
      <dl class="schedules">
        <dt class="schedules__time">06:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet amet amet amet.</span></p>
        </dd>
        <dt class="schedules__time">08:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=台北火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 台北火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">12:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">15:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=高雄火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 高雄火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">18:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=墾丁&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 墾丁"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
      </dl>
    </div>
    <div class="card card--5">
      <h2 class="card__title"></h2>
      <dl class="schedules">
        <dt class="schedules__time">06:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet amet amet amet.</span></p>
        </dd>
        <dt class="schedules__time">08:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=台北火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 台北火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">12:00</dt>
        <dd class="schedules__info">
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">15:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=高雄火車站&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 高雄火車站"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
        <dt class="schedules__time">18:00</dt>
        <dd class="schedules__info">
          <p><img src="https://maps.googleapis.com/maps/api/staticmap?center=墾丁&amp;zoom=16&amp;scale=false&amp;size=400x120&amp;maptype=roadmap&amp;format=png&amp;visual_refresh=true&amp;markers=size:mid%7Ccolor:0xff0000%7C#{item.map}" width="400" height="120" alt="Google Map of 墾丁"/></p>
          <p><span>Lorem ipsum dolor sit amet.</span></p>
        </dd>
      </dl>
    </div>
  </div>
  <button class="new-card">new day</button>
</div>

<script>
    let card = {};

card.wrap = document.querySelector('.cards');
card.new = document.querySelector('.new-card');

card.wrap.addEventListener('click', e => {
  if (e.target.classList.contains('card__title')) {
    let parentCard = e.target.parentElement;
    let isActive = parentCard.classList.contains('is-active');
    let activedItem = card.wrap.querySelector('.card.is-active');

    if (!isActive && !!activedItem) {
      activedItem.classList.toggle('is-active');
    }
    parentCard.classList.toggle('is-active');
    card.wrap.classList.toggle('is-active', !isActive);
  }
});

card.new.addEventListener('click', () => {
  let lastCard = card.wrap.querySelector('.card:last-child');
  let lastNumber = +lastCard.className.match(/\d+/);
  let newCard = lastCard.cloneNode(true);
  newCard.className = newCard.className.replace(/\d+/, lastNumber + 1);
  newCard.classList.remove('is-active');

  lastCard.parentElement.insertBefore(newCard, lastCard.nextSibling);

  reCalcPos();
});

let reCalcPos = () => {
  let cards = [].slice.call(card.wrap.querySelectorAll('.card'));
  let count = cards.length;

  cards.forEach((card, i) => {
    card.style.transform = `translateY(calc(${i / count} * (100% - 1.5rem)))`;
  });
};
</script>
</body>

</html>